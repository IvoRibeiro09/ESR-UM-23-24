import socket

# Configurações do servidor
host = '127.0.0.1'  # Endereço IP do servidor
port = 12345       # Porta para escutar

# Cria um socket do tipo servidor
server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

# Liga o servidor ao endereço e porta especificados
server_socket.bind((host, port))

# Começa a escutar por conexões
server_socket.listen(1)
print(f"Servidor aguardando conexões em {host}:{port}")

# Aceita a conexão do cliente
client_socket, client_address = server_socket.accept()
print(f"Conexão estabelecida com {client_address}")

# Testa a conectividade enviando uma mensagem para o cliente
message = "Teste de conectividade para o cliente"
client_socket.send(message.encode())

# Aguarda a resposta afirmativa do cliente
response = client_socket.recv(1024)
print(f"Resposta do cliente: {response.decode()}")

# Fecha os sockets
client_socket.close()
server_socket.close()
